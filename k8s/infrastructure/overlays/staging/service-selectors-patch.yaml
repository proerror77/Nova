# Service selectors patch for staging environment
# Ensures Services only use 'app: <service-name>' selector to match pod labels
# This fixes endpoint registration issues where pods only have 'app' label
---
apiVersion: v1
kind: Service
metadata:
  name: postgres
spec:
  selector:
    app: postgres
---
apiVersion: v1
kind: Service
metadata:
  name: redis
spec:
  selector:
    component: redis
---
apiVersion: v1
kind: Service
metadata:
  name: content-service
spec:
  selector:
    app: content-service
---
apiVersion: v1
kind: Service
metadata:
  name: feed-service
spec:
  selector:
    app: feed-service
---
apiVersion: v1
kind: Service
metadata:
  name: media-service
spec:
  selector:
    app: media-service
---
apiVersion: v1
kind: Service
metadata:
  name: search-service
spec:
  selector:
    app: search-service
---
apiVersion: v1
kind: Service
metadata:
  name: analytics-service
spec:
  selector:
    app: analytics-service
---
apiVersion: v1
kind: Service
metadata:
  name: graph-service
spec:
  selector:
    app: graph-service
---
apiVersion: v1
kind: Service
metadata:
  name: notification-service
spec:
  selector:
    app: notification-service
---
apiVersion: v1
kind: Service
metadata:
  name: ranking-service
spec:
  selector:
    app: ranking-service
---
apiVersion: v1
kind: Service
metadata:
  name: realtime-chat-service
spec:
  selector:
    app: realtime-chat-service
---
apiVersion: v1
kind: Service
metadata:
  name: social-service
spec:
  selector:
    app: social-service
---
apiVersion: v1
kind: Service
metadata:
  name: social-service-headless
spec:
  selector:
    app: social-service
---
apiVersion: v1
kind: Service
metadata:
  name: trust-safety-service
spec:
  selector:
    app: trust-safety-service
---
apiVersion: v1
kind: Service
metadata:
  name: identity-service
spec:
  selector:
    app: identity-service
---
apiVersion: v1
kind: Service
metadata:
  name: identity-service-headless
spec:
  selector:
    app: identity-service
---
apiVersion: v1
kind: Service
metadata:
  name: graphql-gateway
spec:
  selector:
    app: graphql-gateway
