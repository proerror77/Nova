---
# Local Development Secret for Messaging Service
# ⚠️  NOT for production use!
apiVersion: v1
kind: Secret
metadata:
  name: messaging-service-secret
  namespace: nova-messaging
  labels:
    app: nova
    component: messaging-service
    environment: development
type: Opaque
stringData:
  # Database Credentials (local development)
  POSTGRES_USER: "postgres"
  POSTGRES_PASSWORD: "postgres"
  POSTGRES_DB: "nova_messaging"

  # Database URL - Points to Docker Compose or local PostgreSQL
  # For Docker Compose service: postgres
  # For local machine: host.docker.internal (Docker Desktop/Minikube)
  DATABASE_URL: "postgresql://postgres:postgres@host.docker.internal:5432/nova_messaging"

  # Redis Configuration (local development)
  REDIS_PASSWORD: "redis"
  REDIS_URL: "redis://:redis@host.docker.internal:6379/0"

  # JWT Public Key for token verification (test key)
  JWT_PUBLIC_KEY_PEM: |
    -----BEGIN PUBLIC KEY-----
    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr1g5jAGoSEJN7qUp4Ogo
    BtfDtdZwY+151jPj3vu8Q7skdB7VX7gTJv2CQkrYtggmD+dUl6ws2A5isXmrr52D
    VKV07as2S7vXkzwP7MvuwWdpNLZIIB0GXD1Iacywu2XlxXBo4Ig24qxDIfSlkW7b
    v0hM9yX+NnW3McXrcAYxlIsdiCz9gDKosVUdQpl/i87Y83cupgg23fqnXGbIb8TI
    j2mnT/GL+cNiZyD+nPdZ7WTRERFZrLVoBC0FdoIwsDdOSwmuN5NjIDTOS7K0rWUt
    jCTIgMJrZEgIQUo2kD7d5KZbp0O6+C6BcpTMt59aoGBc9AH9h+aOwwOFQdtflMc/
    +QIDAQAB
    -----END PUBLIC KEY-----

  # Server-side encryption key for messages (local development)
  # Generate: openssl rand -base64 32
  SECRETBOX_KEY_B64: "PH3+9vCdxhXYcOuCy8nXB1L8PnG3lqZ5r9kW2pX8vQA="

  # Kafka Settings (for local development)
  KAFKA_BROKERS: "kafka:9092"
  KAFKA_SASL_USERNAME: ""
  KAFKA_SASL_PASSWORD: ""
