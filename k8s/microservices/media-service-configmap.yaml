apiVersion: v1
kind: ConfigMap
metadata:
  name: media-service-config
  labels:
    app: media-service
    tier: backend
data:
  APP_ENV: staging
  MEDIA_SERVICE_HOST: 0.0.0.0
  MEDIA_SERVICE_PORT: "8082"
  DATABASE_MAX_CONNECTIONS: "5"
  REDIS_URL: redis://redis:6379
  KAFKA_BROKERS: kafka:9092
  KAFKA_EVENTS_TOPIC: media_events
  # GCS S3-compatible settings
  AWS_REGION: auto
  S3_BUCKET: nova-media-staging
  S3_ENDPOINT: https://storage.googleapis.com
  CDN_URL: http://35.186.234.219
  # Upload limits (in bytes)
  UPLOAD_MAX_IMAGE_SIZE: "10485760"    # 10MB
  UPLOAD_MAX_VIDEO_SIZE: "104857600"   # 100MB
  UPLOAD_MAX_AUDIO_SIZE: "52428800"    # 50MB
  UPLOAD_MAX_REQUEST_SIZE: "157286400" # 150MB
  UPLOAD_ALLOWED_IMAGE_TYPES: "image/jpeg,image/png,image/gif,image/webp,image/heic,image/heif"
  UPLOAD_ALLOWED_VIDEO_TYPES: "video/mp4,video/quicktime,video/webm,video/x-msvideo"
