apiVersion: v1
kind: ConfigMap
metadata:
  name: user-service-config
  namespace: nova-user
data:
  # Database Configuration
  database_url: "postgres://nova:password@postgres-primary:5432/nova_user?sslmode=disable"

  # Cache & Storage
  redis_url: "redis://redis-cluster:6379/1"

  # Server Configuration
  server_host: "0.0.0.0"
  server_port: "8081"

  # gRPC Configuration
  grpc_port: "9081"
  grpc_max_concurrent_streams: "1000"
  grpc_keepalive_interval: "30s"
  grpc_keepalive_timeout: "10s"

  # Kafka Configuration (for event publishing)
  kafka_brokers: "kafka-0.kafka-headless:9092,kafka-1.kafka-headless:9092,kafka-2.kafka-headless:9092"

  # Logging
  log_level: "info"

  # User Profile Configuration
  profile_cache_ttl_seconds: "3600"

  # Authentication
  auth_service_grpc_endpoint: "auth-service:9086"

  # Rate Limiting
  max_requests_per_minute: "1000"

  # Image Upload
  max_profile_image_size_bytes: "5242880"

  # Outbox Pattern (Phase 2)
  outbox_poll_interval: "5000"
  outbox_batch_size: "100"
  outbox_max_retries: "3"
