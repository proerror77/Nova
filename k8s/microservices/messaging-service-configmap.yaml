apiVersion: v1
kind: ConfigMap
metadata:
  name: messaging-service-config
  namespace: nova-messaging
data:
  # Database Configuration
  database_url: "postgres://nova:password@postgres-primary:5432/nova_messaging?sslmode=disable"
  
  # Cache & Storage
  redis_url: "redis://redis-cluster:6379/0"
  
  # Server Configuration
  server_host: "0.0.0.0"
  server_port: "8085"
  
  # gRPC Configuration
  grpc_port: "9085"
  grpc_max_concurrent_streams: "1000"
  grpc_keepalive_interval: "30s"
  grpc_keepalive_timeout: "10s"
  
  # Kafka Configuration (for event publishing)
  kafka_brokers: "kafka-0.kafka-headless:9092,kafka-1.kafka-headless:9092,kafka-2.kafka-headless:9092"
  
  # Logging
  log_level: "info"
  
  # Message Configuration
  message_retention_days: "365"
  
  # Encryption
  encryption_enabled: "true"
  
  # Rate Limiting
  max_messages_per_minute: "100"
  
  # Outbox Pattern (Phase 2)
  outbox_poll_interval: "5000"
  outbox_batch_size: "100"
  outbox_max_retries: "3"
