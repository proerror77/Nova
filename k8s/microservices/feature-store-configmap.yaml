apiVersion: v1
kind: ConfigMap
metadata:
  name: feature-store-config
  labels:
    app: feature-store
    tier: backend
data:
  # Server configuration
  HTTP_HOST: "0.0.0.0"
  HTTP_PORT: "8010"
  GRPC_HOST: "0.0.0.0"
  GRPC_PORT: "9010"

  # Feature serving configuration
  FEATURE_CACHE_SIZE: "10000"
  BATCH_FETCH_MAX_SIZE: "100"

  # Redis configuration
  REDIS_DEFAULT_TTL_SECONDS: "3600"

  # ClickHouse configuration
  CLICKHOUSE_DATABASE: "feature_store"
  CLICKHOUSE_SYNC_INTERVAL_SECONDS: "300"

  # Observability
  LOG_LEVEL: "info"
  ENABLE_METRICS: "true"
  RUST_LOG: "feature_store=info,warn"
  RUST_BACKTRACE: "1"

  # Service discovery (internal service names)
  REDIS_HOST: "redis-cluster"
  REDIS_PORT: "6379"
  CLICKHOUSE_HOST: "clickhouse"
  CLICKHOUSE_PORT: "8123"
