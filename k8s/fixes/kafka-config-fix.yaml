---
# Fix for Kafka connection issues across all services
# Kafka is deployed in 'kafka' namespace as kafka-0
apiVersion: v1
kind: ConfigMap
metadata:
  name: kafka-config
  namespace: nova-backend
data:
  # Correct Kafka broker address for kafka namespace
  KAFKA_BROKERS: "kafka-0.kafka.kafka.svc.cluster.local:9092"
  KAFKA_GROUP_ID: "nova-backend"
  KAFKA_TIMEOUT_MS: "5000"
  KAFKA_AUTO_OFFSET_RESET: "earliest"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: kafka-config
  namespace: nova-feed
data:
  # Correct Kafka broker address for kafka namespace
  KAFKA_BROKERS: "kafka-0.kafka.kafka.svc.cluster.local:9092"
  KAFKA_GROUP_ID: "nova-feed"
  KAFKA_TIMEOUT_MS: "5000"
  KAFKA_AUTO_OFFSET_RESET: "earliest"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: kafka-config
  namespace: nova-auth
data:
  # Correct Kafka broker address for kafka namespace
  KAFKA_BROKERS: "kafka-0.kafka.kafka.svc.cluster.local:9092"
  KAFKA_GROUP_ID: "nova-auth"
  KAFKA_TIMEOUT_MS: "5000"
  KAFKA_AUTO_OFFSET_RESET: "earliest"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: kafka-config
  namespace: nova-media
data:
  # Correct Kafka broker address for kafka namespace
  KAFKA_BROKERS: "kafka-0.kafka.kafka.svc.cluster.local:9092"
  KAFKA_GROUP_ID: "nova-media"
  KAFKA_TIMEOUT_MS: "5000"
  KAFKA_AUTO_OFFSET_RESET: "earliest"