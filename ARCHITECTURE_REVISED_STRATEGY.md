# ğŸ”„ Nova æ¶æ„é‡æ„ - ä¿®è®¢ç‰ˆç­–ç•¥

**ç¼–åˆ¶æ—¥æœŸ**: 2025-11-04 (åŸºäºå®é™…ç»éªŒæ•™è®­)
**ç‰ˆæœ¬**: 2.0 (ä¿®è®¢)
**çŠ¶æ€**: ğŸ“‹ è§„åˆ’å®Œæˆï¼ŒåŸºäºå·²éªŒè¯çš„å›°éš¾

---

## ğŸ“Œ ä¸ºä»€ä¹ˆéœ€è¦ä¿®è®¢ï¼Ÿ

ä½ ä¹‹å‰å·²ç»å°è¯•è¿‡ç›´æ¥åˆ†ç¦»æ•°æ®åº“ï¼Œé‡åˆ°äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ

```
å†å²è¯æ®ï¼š
  âœ… å°è¯•: åˆ†ç¦»åˆ° 8 ä¸ªç‹¬ç«‹æ•°æ®åº“
  âŒ å¤±è´¥: 56+ å¤–é”®çº¦æŸå¯¼è‡´é—®é¢˜
  â†³ åŸå› : æ— æ³•è½»æ˜“"å‰ªæ–­"è¡¨ä¹‹é—´çš„ä¾èµ–å…³ç³»

  âœ… å†³å®š: å›é€€åˆ°å•æ•°æ®åº“ (nova_content)
  âœ… ç»“æœ: å¤–é”®çº¦æŸè§£å†³ï¼Œä½†ä»æ˜¯åˆ†å¸ƒå¼å•ä½“

ç»“è®º: ç›´æ¥åˆ†ç¦»æ•°æ®åº“æ˜¯**é”™è¯¯çš„æ–¹å‘**
```

---

## ğŸ¯ ä¿®è®¢åçš„æ­£ç¡®è·¯å¾„

### é—®é¢˜çš„æ ¹æœ¬åŸå› 

ä½ ç°åœ¨çš„ç—›ç‚¹ä¸æ˜¯"æ•°æ®åº“åœ¨å“ªé‡Œ"ï¼Œè€Œæ˜¯ï¼š

```
âŒ æœåŠ¡é—´é€šä¿¡æ–¹å¼: ç›´æ¥ SQL æŸ¥è¯¢
   â†’ è¡¨æ¨¡å¼æˆä¸ºå…¬å…± API
   â†’ ä»»ä½•è¡¨çš„æ”¹åŠ¨éƒ½å½±å“å…¶ä»–æœåŠ¡
   â†’ æ— æ³•ç‹¬ç«‹éƒ¨ç½²

âŒ æ•°æ®æ‰€æœ‰æƒæ¨¡ç³Š
   â†’ æ‰€æœ‰æœåŠ¡å¯ä»¥è¯»å†™ä»»ä½•è¡¨
   â†’ æ²¡æœ‰æ¸…æ™°çš„æœåŠ¡è¾¹ç•Œ

âŒ ç¼ºä¹äº‹ä»¶ä¸€è‡´æ€§
   â†’ å¤šæœåŠ¡å†™åŒä¸€ä¸ªè¡¨æ—¶æ— æ³•ä¿è¯ä¸€è‡´æ€§
   â†’ æ— æ³•å¤„ç†åˆ†å¸ƒå¼äº‹åŠ¡
```

### æ­£ç¡®çš„è§£è€¦é¡ºåº

```
Step 1: åº”ç”¨å±‚è§£è€¦ (ä¿ç•™å•æ•°æ®åº“)
   â”œâ”€ å®æ–½ gRPC æ›¿ä»£ç›´æ¥ SQL
   â”œâ”€ å®šä¹‰æ¸…æ™°çš„æœåŠ¡ API è¾¹ç•Œ
   â”œâ”€ å®æ–½äº‹ä»¶é©±åŠ¨ (Kafka + Outbox)
   â””â”€ ç»“æœ: é€»è¾‘ä¸Šçš„å¾®æœåŠ¡

Step 2: ç„¶åæ•°æ®åº“åˆ†ç¦» (è‡ªç„¶æ°´åˆ°æ¸ æˆ)
   â”œâ”€ å› ä¸ºæœåŠ¡ä¸å†é€šè¿‡ SQL é€šä¿¡
   â”œâ”€ å¤–é”®çº¦æŸé—®é¢˜è‡ªåŠ¨æ¶ˆå¤±
   â”œâ”€ å¯ä»¥å®‰å…¨åœ°æ‹†åˆ†è¡¨
   â””â”€ ç»“æœ: ç‰©ç†ä¸Šçš„å¾®æœåŠ¡
```

**å…³é”®æ´å¯Ÿ**: ä¸æ˜¯"å…ˆåˆ†ç¦»æ•°æ®åº“å†æ”¹ä»£ç "ï¼Œè€Œæ˜¯"å…ˆæ”¹ä»£ç è®©é€»è¾‘è§£è€¦ï¼Œæ•°æ®åº“è‡ªç„¶åˆ†ç¦»"ã€‚

---

## ğŸ“Š ä¿®è®¢ç‰ˆ 4 é˜¶æ®µè®¡åˆ’

### Phase 0: å‡†å¤‡ (1 å‘¨)

**ç›®æ ‡**: æ˜ç¡®æœåŠ¡è¾¹ç•Œå’Œé€šä¿¡åè®®

#### 0.1 å®šä¹‰æœåŠ¡ API å¥‘çº¦ (gRPC)

```protobuf
// auth_service.proto
service AuthService {
  rpc GetUser(GetUserRequest) returns (GetUserResponse);
  rpc VerifyToken(VerifyTokenRequest) returns (VerifyTokenResponse);
  rpc ListUsers(ListUsersRequest) returns (ListUsersResponse);
}

// user_service.proto
service UserService {
  rpc GetUserProfile(GetProfileRequest) returns (GetProfileResponse);
  rpc UpdateProfile(UpdateProfileRequest) returns (UpdateProfileResponse);
}

// messaging_service.proto
service MessagingService {
  rpc GetMessages(GetMessagesRequest) returns (GetMessagesResponse);
  rpc SendMessage(SendMessageRequest) returns (SendMessageResponse);
}

// ç±»ä¼¼åœ°ä¸ºæ‰€æœ‰ 8 ä¸ªæœåŠ¡å®šä¹‰ API
```

**ä¸ºä»€ä¹ˆæ˜¯ gRPCï¼Ÿ**
- ç±»å‹å®‰å…¨ (protobuf)
- æ€§èƒ½é«˜ (HTTP/2)
- å¯ä»¥å®Œå…¨æ›¿ä»£ SQL æŸ¥è¯¢
- å®šä¹‰æ¸…æ™°çš„æœåŠ¡è¾¹ç•Œ

#### 0.2 å®šä¹‰äº‹ä»¶å¥‘çº¦ (Kafka)

```
äº‹ä»¶:
  user.created
  user.updated
  user.deleted
  message.sent
  message.deleted
  post.created
  post.deleted

æ¯ä¸ªäº‹ä»¶æœ‰æ˜ç¡®çš„æ‰€æœ‰è€…æœåŠ¡å’Œæ¶ˆè´¹æ–¹
```

#### 0.3 ç»˜åˆ¶æ•°æ®æ‰€æœ‰æƒæ¨¡å‹

```
auth-service owns:
  - users
  - user_credentials
  - email_verification_tokens
  - password_reset_tokens

messaging-service owns:
  - messages
  - conversations
  - conversation_members
  - message_attachments

content-service owns:
  - posts
  - post_attachments
  - post_likes

user-service owns:
  - user_profiles
  - user_settings
  - user_relationships

search-service owns:
  - search_indexes (Elasticsearch)

... (å…¶ä»–æœåŠ¡ç±»ä¼¼)
```

**è¾“å‡ºæ–‡ä»¶**:
- `docs/GRPC_SERVICE_CONTRACTS.md` (gRPC æ¥å£å®šä¹‰)
- `docs/KAFKA_EVENT_SCHEMA.md` (äº‹ä»¶å®šä¹‰)
- `docs/SERVICE_DATA_OWNERSHIP.md` (æ•°æ®æ‰€æœ‰æƒ)

---

### Phase 1: åº”ç”¨å±‚æ”¹é€  (12-16 å‘¨)

**ç›®æ ‡**: æ‰€æœ‰æœåŠ¡é—´é€šä¿¡è½¬æ¢ä¸º gRPCï¼Œä¸å†ä½¿ç”¨ç›´æ¥ SQL

è¿™æ˜¯**æœ€å…³é”®çš„é˜¶æ®µ**ã€‚æˆåŠŸå®Œæˆè¿™ä¸ªé˜¶æ®µåï¼Œæ•°æ®åº“åˆ†ç¦»å˜æˆ"æ°´åˆ°æ¸ æˆ"çš„äº‹æƒ…ã€‚

#### 1A: gRPC åŸºç¡€è®¾æ–½ (Weeks 1-2)

- [ ] ç¼–è¯‘æ‰€æœ‰ proto æ–‡ä»¶ (tonic)
- [ ] åˆ›å»º gRPC æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ¡†æ¶
- [ ] é…ç½® gRPC é€šä¿¡ (æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡)
- [ ] å®æ–½ gRPC ä¸­é—´ä»¶ (è®¤è¯ã€æ—¥å¿—ã€ç›‘æ§)

#### 1B: æ ¸å¿ƒæœåŠ¡ gRPC å®ç° (Weeks 3-8)

**ä¼˜å…ˆçº§é¡ºåº**:

1. **auth-service** (å…¶ä»–æ‰€æœ‰æœåŠ¡ä¾èµ–)
   - GetUser(user_id) â†’ User
   - GetUsersByIds(user_ids[]) â†’ User[]
   - VerifyToken(token) â†’ TokenValidity
   - CheckUserExists(user_id) â†’ bool

   **ä»£ç æ”¹é€ **:
   ```rust
   // æ—§æ–¹å¼: ç›´æ¥ SQL
   let user = sqlx::query_as::<_, User>(
       "SELECT * FROM users WHERE id = $1"
   ).bind(user_id).fetch_one(&pool).await?;

   // æ–°æ–¹å¼: gRPC
   let user = auth_service_client
       .get_user(GetUserRequest { user_id })
       .await?
       .into_inner();
   ```

2. **messaging-service** (feed-serviceã€search-service ä¾èµ–)
   - GetMessages(conversation_id) â†’ Message[]
   - GetConversationMembers(conversation_id) â†’ User[]
   - GetMessageCount(conversation_id) â†’ i64

3. **content-service** (feed-serviceã€search-service ä¾èµ–)
   - GetPost(post_id) â†’ Post
   - GetPostsByIds(post_ids[]) â†’ Post[]
   - GetAuthor(post_id) â†’ User (via auth-service)

4. **user-service**
   - GetUserProfile(user_id) â†’ UserProfile
   - GetRelationships(user_id) â†’ User[]

5. **feed-service** (æ¶ˆè´¹æ¥è‡ªå…¶ä»–æœåŠ¡çš„ gRPC)
   - ä» messaging-service è·å–æ¶ˆæ¯
   - ä» content-service è·å–å¸–å­
   - ä» user-service è·å–ç”¨æˆ·ä¿¡æ¯
   - ç”Ÿæˆç»¼åˆ feed

6. **search-service** (æ¶ˆè´¹æ¥è‡ªå…¶ä»–æœåŠ¡çš„ gRPC)
   - ä»å„æœåŠ¡è·å–æ•°æ®
   - å­˜å‚¨åˆ° Elasticsearch
   - æä¾›æœç´¢ API

7. **media-service** å’Œ **streaming-service**
   - å¯èƒ½ä¾èµ–å…¶ä»–æœåŠ¡ï¼Œè·Ÿéšä¾èµ–å…³ç³»

#### 1C: ç¼“å­˜å±‚ (Weeks 9-12)

å…³é”®: gRPC è°ƒç”¨å¯èƒ½æ¯”ç›´æ¥ SQL ç¨æ…¢ï¼Œéœ€è¦ç¼“å­˜

```rust
// å®æ–½å¤šçº§ç¼“å­˜

// L1: åº”ç”¨å†…å­˜ç¼“å­˜ (LRU, 1 åˆ†é’Ÿ TTL)
let user = app_cache.get_or_fetch(user_id, || {
    auth_service_client.get_user(user_id)
});

// L2: Redis ç¼“å­˜ (10 åˆ†é’Ÿ TTL)
// L3: ç›´æ¥ gRPC è°ƒç”¨

// ç¼“å­˜å¤±æ•ˆ: é€šè¿‡ Kafka äº‹ä»¶
// å½“ user.updated äº‹ä»¶å‘å‡ºæ—¶ï¼Œæ¸…é™¤ç¼“å­˜
```

#### 1D: æµ‹è¯•å’ŒéªŒè¯ (Weeks 13-16)

- [ ] é›†æˆæµ‹è¯•: æ‰€æœ‰ gRPC è°ƒç”¨
- [ ] æ€§èƒ½åŸºå‡†: gRPC vs ç›´æ¥ SQL
- [ ] æ•…éšœæ¢å¤æµ‹è¯•: æœåŠ¡å®•æœºæ—¶çš„è¡¨ç°
- [ ] ç°åº¦å‘å¸ƒ: 10% â†’ 50% â†’ 100%

**æˆåŠŸæ ‡å‡†**:
- âœ… æ‰€æœ‰æœåŠ¡é—´é€šä¿¡é€šè¿‡ gRPC
- âœ… é›¶ç›´æ¥è·¨æ•°æ®åº“ SQL æŸ¥è¯¢
- âœ… gRPC P95 å»¶è¿Ÿ < 200ms
- âœ… ç¼“å­˜ hit rate > 80%
- âœ… æ•…éšœéš”ç¦»èƒ½åŠ›æå‡ (æŸä¸ªæœåŠ¡å®•æœºä¸å½±å“å…¶ä»–)

---

### Phase 2: äº‹ä»¶é©±åŠ¨æ¶æ„ (4-6 å‘¨)

**ç›®æ ‡**: å¤šæœåŠ¡å†™å…¥åŒä¸€ä¸ªè¡¨æ—¶çš„ä¸€è‡´æ€§ä¿è¯

ç°åœ¨å®‰å…¨äº†ï¼Œå› ä¸ºæ²¡æœ‰æœåŠ¡ç›´æ¥å†™å…¥å…¶ä»–æœåŠ¡çš„è¡¨ã€‚

#### 2A: Outbox æ¨¡å¼å®ç°

```sql
-- æ¯ä¸ªæœåŠ¡åœ¨è‡ªå·±çš„æ•°æ®åº“ä¸­æœ‰ outbox è¡¨
CREATE TABLE outbox_events (
    id UUID PRIMARY KEY,
    aggregate_id UUID,
    event_type TEXT,
    event_data JSONB,
    created_at TIMESTAMP,
    published_at TIMESTAMP NULL
);

-- å½“ user.updated å‘ç”Ÿæ—¶:
-- 1. æ›´æ–° users è¡¨
-- 2. åœ¨åŒä¸€äº‹åŠ¡ä¸­æ’å…¥ outbox_events
-- 3. å¼‚æ­¥è¿›ç¨‹å°†äº‹ä»¶å‘é€åˆ° Kafka
```

#### 2B: Kafka æ¶ˆè´¹è€…å®ç°

```rust
// messaging-service è®¢é˜… user.updated äº‹ä»¶
kafka_consumer
    .subscribe("user-events")?
    .handle_message(|event| {
        match event.event_type {
            "user.updated" => {
                // æ›´æ–°æœ¬åœ°ç¼“å­˜æˆ–æ—¥å¿—è¡¨
                update_user_cache(&event.data)?;
            }
            "user.deleted" => {
                // åˆ é™¤æˆ–æ ‡è®°ç›¸å…³æ¶ˆæ¯
                mark_messages_deleted(&event.data.user_id)?;
            }
            _ => {}
        }
        Ok(())
    })?;
```

#### 2C: å¹‚ç­‰æ€§ä¿è¯

```rust
// æ¶ˆè´¹è€…å¿…é¡»æ˜¯å¹‚ç­‰çš„ï¼ˆåŒä¸€äº‹ä»¶å¤„ç†å¤šæ¬¡åº”è¯¥æ˜¯å®‰å…¨çš„ï¼‰
kafka_consumer.handle_with_dedup(|event| {
    // æ£€æŸ¥äº‹ä»¶æ˜¯å¦å·²å¤„ç†
    if event_processed(&event.id) {
        return Ok(()); // å·²å¤„ç†ï¼Œè·³è¿‡
    }

    // å¤„ç†äº‹ä»¶
    process_event(&event)?;

    // æ ‡è®°ä¸ºå·²å¤„ç†
    mark_event_processed(&event.id)?;

    Ok(())
});
```

**æˆåŠŸæ ‡å‡†**:
- âœ… Outbox æ¨¡å¼å®æ–½åœ¨å…³é”®è·¯å¾„
- âœ… æ‰€æœ‰å…³é”®äº‹ä»¶é€šè¿‡ Kafka åˆ†å‘
- âœ… æ¶ˆè´¹è€…å¹‚ç­‰æ€§éªŒè¯
- âœ… äº‹ä»¶é€’é€ä¿è¯ > 99.9%

---

### Phase 3: æ•°æ®åº“åˆ†ç¦» (å¯é€‰ï¼Œ4-8 å‘¨)

**é‡è¦**: è¿™ä¸ªé˜¶æ®µ**åªåœ¨éœ€è¦æ—¶è¿›è¡Œ**ã€‚

å¦‚æœ Phase 1-2 å·²ç»è§£å†³äº†ä½ çš„ç—›ç‚¹ï¼Œå¯èƒ½ä¸éœ€è¦ç‰©ç†åˆ†ç¦»æ•°æ®åº“ã€‚

ä½†å¦‚æœéœ€è¦ï¼ˆä¾‹å¦‚ä¸ºäº†ç‹¬ç«‹æ‰©å±•ï¼‰ï¼Œç°åœ¨æ˜¯å®‰å…¨çš„ï¼š

#### 3A: å‡†å¤‡é˜¶æ®µ

```
å¯¹äºæ¯ä¸ªæœåŠ¡:
  1. åœ¨æ–°çš„ PostgreSQL å®ä¾‹ä¸­åˆ›å»ºç©ºè¡¨
  2. å¤åˆ¶ schema
  3. å¤åˆ¶å†å²æ•°æ®
  4. éªŒè¯æ•°æ®ä¸€è‡´æ€§
```

#### 3B: è¿ç§»é˜¶æ®µ

```
å¯¹äºæ¯ä¸ªæœåŠ¡:
  1. åº”ç”¨å·²ç»é€šè¿‡ gRPC é€šä¿¡ï¼Œæ‰€ä»¥:
     - æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²æ”¹ä¸ºæŒ‡å‘æ–°å®ä¾‹
     - åº”ç”¨ä»£ç æ— éœ€æ”¹å˜ (gRPC è°ƒç”¨å·²åœ¨ Phase 1 å®Œæˆ)

  2. ä½¿ç”¨ PostgreSQL FDW å»ºç«‹ä¸´æ—¶æ¡¥æ¥
     (å¦‚æœéœ€è¦è·¨æ•°æ®åº“çš„ä¸€è‡´æ€§)

  3. ç°åº¦å‘å¸ƒ: 10% â†’ 50% â†’ 100%
```

#### 3C: æ¸…ç†

```
  1. åˆ é™¤ FDW å’Œä¸´æ—¶æ¡¥æ¥
  2. åˆ é™¤æ—§æ•°æ®åº“
  3. æ›´æ–°æ–‡æ¡£
```

**ä¸ºä»€ä¹ˆè¿™ä¸ªé˜¶æ®µæ˜¯å¯é€‰çš„ï¼Ÿ**
- åº”ç”¨å±‚å·²ç»è§£è€¦ï¼ˆPhase 1ï¼‰
- å•ä¸ª PostgreSQL å®ä¾‹å¯ä»¥å¤„ç† 10000+ QPS
- é™¤ééœ€è¦ç‹¬ç«‹æ‰©å±•ï¼Œå¦åˆ™ä¸éœ€è¦åˆ†ç¦»

---

## ğŸ“Š ä¿®è®¢ç‰ˆæ–¹æ¡ˆå¯¹æ¯”

### æ—§æ–¹æ¡ˆï¼ˆå¤±è´¥äº†ï¼‰

```
ç›´æ¥åˆ†ç¦»æ•°æ®åº“
  â†“
å¤–é”®çº¦æŸé—®é¢˜
  â†“
æ— æ³•è½»æ˜“æ‹†åˆ†è¡¨
  â†“
âŒ å¤±è´¥ï¼Œå›é€€åˆ°å…±äº«æ•°æ®åº“
```

### æ–°æ–¹æ¡ˆï¼ˆæ­£ç¡®çš„æ–¹å‘ï¼‰

```
Phase 1: åº”ç”¨å±‚æ”¹é€ 
  - gRPC æ›¿ä»£ SQL æŸ¥è¯¢
  - æ¸…æ™°çš„æœåŠ¡è¾¹ç•Œ
  - ç»“æœ: é€»è¾‘å¾®æœåŠ¡ âœ…

Phase 2: äº‹ä»¶é©±åŠ¨
  - Outbox æ¨¡å¼
  - Kafka äº‹ä»¶
  - ç»“æœ: ä¸€è‡´æ€§ä¿è¯ âœ…

Phase 3: æ•°æ®åº“åˆ†ç¦» (å¯é€‰)
  - ç°åœ¨å¤–é”®ä¸æ˜¯é—®é¢˜
  - å¯ä»¥å®‰å…¨åˆ†ç¦»
  - ç»“æœ: ç‰©ç†å¾®æœåŠ¡ âœ…
```

---

## â±ï¸ æ—¶é—´è¡¨ (ä¿®è®¢ç‰ˆ)

```
ç°åœ¨ (2025-11-04)
  â””â”€ Phase 0: å‡†å¤‡ (1 å‘¨, Nov 5-11)
      â””â”€ Phase 1: åº”ç”¨å±‚æ”¹é€  (12-16 å‘¨, Nov 12 - Jan 20)
          â”œâ”€ 1A: gRPC åŸºç¡€è®¾æ–½ (2 å‘¨)
          â”œâ”€ 1B: æ ¸å¿ƒæœåŠ¡å®ç° (6 å‘¨)
          â”œâ”€ 1C: ç¼“å­˜å±‚ (4 å‘¨)
          â””â”€ 1D: æµ‹è¯•éªŒè¯ (4 å‘¨)
              â””â”€ Phase 2: äº‹ä»¶é©±åŠ¨ (4-6 å‘¨, Jan 21 - Feb 28)
                  â””â”€ Phase 3: æ•°æ®åº“åˆ†ç¦» (å¯é€‰, 4-8 å‘¨)
```

**å…³é”®åŒºåˆ«**:
- âœ… ä¸å†è¯•å›¾é¦–å…ˆåˆ†ç¦»æ•°æ®åº“
- âœ… ä¸“æ³¨äºåº”ç”¨å±‚è§£è€¦
- âœ… æ•°æ®åº“åˆ†ç¦»å˜æˆäº†è‡ªç„¶çš„ç»“æœï¼Œä¸å†æ˜¯éšœç¢

---

## ğŸ’° æˆæœ¬åˆ†æ (ä¿®è®¢ç‰ˆ)

### Phase 1: åº”ç”¨å±‚æ”¹é€ 

```
å·¥ç¨‹å¸ˆæˆæœ¬:      4-6 äººæœˆ Ã— $15k = $60k-$90k
åŸºç¡€è®¾æ–½:        gRPC æ¡†æ¶ã€Kafka = $5k-$10k
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»æˆæœ¬:          $65k-$100k
ROI:             é€šè¿‡ç‹¬ç«‹éƒ¨ç½²ã€æ•…éšœéš”ç¦»æ”¹è¿›è·å¾—
```

### æ•´ä¸ªé‡æ„ (æ‰€æœ‰é˜¶æ®µ)

```
Phase 0-1:       $65k-$100k
Phase 2:         $15k-$25k (Kafka é…ç½®)
Phase 3 (å¯é€‰):  $20k-$30k (æ•°æ®åº“å®ä¾‹)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»æˆæœ¬:          $100k-$155k
```

**vs ä»€ä¹ˆéƒ½ä¸åš**:
```
ç»§ç»­ç›´æ¥ SQL:
  - æœˆåº¦æ•…éšœæˆæœ¬: $50k-$75k
  - 6 ä¸ªæœˆæˆæœ¬: $300k-$450k
  - 1 å¹´æˆæœ¬: $600k-$900k
```

---

## ğŸ¯ Phase 0 çš„å¯æ‰§è¡Œä»»åŠ¡

åŸºäºä½ å·²æœ‰çš„ç»éªŒï¼ŒPhase 0 åº”è¯¥å…³æ³¨ï¼š

### Task 0.1: gRPC æœåŠ¡åˆçº¦è®¾è®¡ (2 å¤©)

- [ ] å®šä¹‰ auth-service gRPC API
- [ ] å®šä¹‰ messaging-service gRPC API
- [ ] å®šä¹‰ content-service gRPC API
- [ ] å®šä¹‰å…¶ä»– 5 ä¸ªæœåŠ¡çš„ gRPC API
- [ ] æ‰€æœ‰ API å†™å…¥ `.proto` æ–‡ä»¶

**è¾“å‡º**: `backend/proto/services/*.proto` (8 ä¸ªæ–‡ä»¶)

### Task 0.2: æœåŠ¡æ•°æ®æ‰€æœ‰æƒæ¸…å• (1 å¤©)

- [ ] åˆ—å‡ºæ¯ä¸ªæœåŠ¡æ‹¥æœ‰çš„è¡¨
- [ ] æ ‡è®°å“ªäº›è¡¨è¢«å…¶ä»–æœåŠ¡è¯»å–
- [ ] æ ‡è®°å“ªäº›è¡¨è¢«å…¶ä»–æœåŠ¡å†™å…¥ï¼ˆé—®é¢˜ï¼ï¼‰
- [ ] åˆ›å»ºæ‰€æœ‰æƒè¡¨

**è¾“å‡º**: `docs/SERVICE_DATA_OWNERSHIP_REVISED.md`

### Task 0.3: Kafka äº‹ä»¶å®šä¹‰ (1 å¤©)

- [ ] åˆ—å‡ºæ‰€æœ‰éœ€è¦çš„äº‹ä»¶ (user.*, message.*, post.* ç­‰)
- [ ] å®šä¹‰æ¯ä¸ªäº‹ä»¶çš„æ•°æ®ç»“æ„
- [ ] å®šä¹‰äº‹ä»¶æ‰€æœ‰è€…æœåŠ¡
- [ ] å®šä¹‰äº‹ä»¶æ¶ˆè´¹æ–¹

**è¾“å‡º**: `docs/KAFKA_EVENT_CONTRACTS.md`

### Task 0.4: å®æ–½é¡ºåºè§„åˆ’ (1 å¤©)

- [ ] ç¡®å®šæœåŠ¡ä¾èµ–å…³ç³»
- [ ] è§„åˆ’å®æ–½é¡ºåºï¼ˆauth ä¼˜å…ˆï¼‰
- [ ] ä¸ºæ¯ä¸ªæœåŠ¡åˆ†é…å‘¨æ•°
- [ ] åˆ¶å®šæ¯å‘¨ç›®æ ‡

**è¾“å‡º**: `docs/PHASE_1_DETAILED_SCHEDULE.md`

---

## âœ… ç°åœ¨çš„çŠ¶æ€

```
âœ… å·²å­¦åˆ°çš„æ•™è®­: ç›´æ¥åˆ†ç¦»æ•°æ®åº“å¾ˆå›°éš¾
âœ… å½“å‰çŠ¶æ€: æ‰€æœ‰è¡¨åœ¨ nova_content (å•ä¸€æ•°æ®åº“)
âœ… ç°åœ¨è¦åš: åº”ç”¨å±‚è§£è€¦ (gRPC + äº‹ä»¶é©±åŠ¨)
âœ… ç„¶åè‡ªç„¶åœ°: æ•°æ®åº“åˆ†ç¦»å˜æˆå¯é€‰çš„
```

---

## ğŸš€ ä¸‹ä¸€æ­¥

1. **Today (2025-11-04)**: ç¡®è®¤è¿™ä¸ªä¿®è®¢ç‰ˆæ–¹æ¡ˆæ˜¯å¦ç¬¦åˆä½ çš„æƒ³æ³•
2. **Tomorrow (2025-11-05)**: å¯åŠ¨ Phase 0 åŸºäºè¿™ä¸ªæ–°æ–¹å‘
3. **Week 1**: å®Œæˆ gRPC åˆçº¦è®¾è®¡
4. **Weeks 2-17**: Phase 1 åº”ç”¨å±‚æ”¹é€ 

---

**å…³é”®è®¤è¯†**:

> "ä¸è¦è¯•å›¾ä»æ•°æ®åº“å±‚é¢è§£å†³å¾®æœåŠ¡é—®é¢˜ã€‚
>  åº”è¯¥ä»åº”ç”¨ä»£ç å±‚é¢è§£å†³ï¼Œè®©æ•°æ®åº“è·Ÿéšã€‚"

è¿™æ­£æ˜¯ä½ é€šè¿‡ä¹‹å‰çš„å°è¯•å­¦åˆ°çš„è¯¾ç¨‹ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**: 2.0 (ä¿®è®¢ç‰ˆ)
**æ—¥æœŸ**: 2025-11-04
**åŸºäº**: å®é™…ç»å†å’Œæ•™è®­
**çŠ¶æ€**: å‡†å¤‡æ‰§è¡Œ
