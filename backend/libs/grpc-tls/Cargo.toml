[package]
name = "grpc-tls"
version = "0.2.0"
edition = "2021"

[dependencies]
# Core gRPC and TLS
tonic = { workspace = true, features = ["tls", "tls-roots"] }
tokio.workspace = true

# Error handling
thiserror = "2.0"
anyhow = "1.0"

# TLS/Certificate handling (MUST match tonic 0.12 requirements)
rustls = "0.22"
tokio-rustls = "0.25"
rustls-pemfile = "2.0"
rustls-native-certs = "0.7"

# Certificate generation (dev/test only)
rcgen = "0.13"

# Certificate parsing and validation
pem = "3.0"
x509-parser = "0.16"
chrono = "0.4"

# Logging
tracing = "0.1"

[dev-dependencies]
tokio-test = "0.4"
tempfile = "3.8"
tracing-subscriber = "0.3"

[build-dependencies]
tonic-build = "0.12"
