-- ============================================================================
-- Test Data for Graph Service Migration Verification
-- ============================================================================
-- Purpose: Create realistic test data to verify Neo4j migration
-- Database: nova_graph
-- ============================================================================

-- Insert 10 test users
INSERT INTO users (id, username, created_at) VALUES
    ('00000000-0000-0000-0000-000000000001', 'alice', '2024-01-01 10:00:00+00'),
    ('00000000-0000-0000-0000-000000000002', 'bob', '2024-01-02 10:00:00+00'),
    ('00000000-0000-0000-0000-000000000003', 'charlie', '2024-01-03 10:00:00+00'),
    ('00000000-0000-0000-0000-000000000004', 'diana', '2024-01-04 10:00:00+00'),
    ('00000000-0000-0000-0000-000000000005', 'evan', '2024-01-05 10:00:00+00'),
    ('00000000-0000-0000-0000-000000000006', 'fiona', '2024-01-06 10:00:00+00'),
    ('00000000-0000-0000-0000-000000000007', 'george', '2024-01-07 10:00:00+00'),
    ('00000000-0000-0000-0000-000000000008', 'hannah', '2024-01-08 10:00:00+00'),
    ('00000000-0000-0000-0000-000000000009', 'ian', '2024-01-09 10:00:00+00'),
    ('00000000-0000-0000-0000-000000000010', 'julia', '2024-01-10 10:00:00+00')
ON CONFLICT (id) DO NOTHING;

-- Insert follow relationships (realistic social graph)
-- Alice is popular (many followers)
INSERT INTO follows (follower_id, following_id, created_at) VALUES
    ('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '2024-01-02 11:00:00+00'), -- Bob follows Alice
    ('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '2024-01-03 11:00:00+00'), -- Charlie follows Alice
    ('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '2024-01-04 11:00:00+00'), -- Diana follows Alice
    ('00000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '2024-01-05 11:00:00+00'), -- Evan follows Alice
    ('00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000001', '2024-01-06 11:00:00+00'), -- Fiona follows Alice

    -- Alice follows back some people
    ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', '2024-01-02 12:00:00+00'), -- Alice follows Bob
    ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000004', '2024-01-04 12:00:00+00'), -- Alice follows Diana

    -- Bob's network
    ('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000003', '2024-01-03 12:00:00+00'), -- Bob follows Charlie
    ('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000005', '2024-01-05 12:00:00+00'), -- Bob follows Evan

    -- Charlie's network
    ('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000002', '2024-01-03 13:00:00+00'), -- Charlie follows Bob
    ('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000006', '2024-01-06 13:00:00+00'), -- Charlie follows Fiona

    -- Diana's network
    ('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000007', '2024-01-07 14:00:00+00'), -- Diana follows George
    ('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000008', '2024-01-08 14:00:00+00'), -- Diana follows Hannah

    -- More connections
    ('00000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000001', '2024-01-07 15:00:00+00'), -- George follows Alice
    ('00000000-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000001', '2024-01-08 15:00:00+00'), -- Hannah follows Alice
    ('00000000-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000010', '2024-01-10 16:00:00+00'), -- Ian follows Julia
    ('00000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000009', '2024-01-10 17:00:00+00')  -- Julia follows Ian
ON CONFLICT (follower_id, following_id) DO NOTHING;

-- Insert some mutes (optional, for testing)
INSERT INTO mutes (muter_id, muted_id, created_at) VALUES
    ('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000003', '2024-01-15 10:00:00+00'), -- Bob mutes Charlie
    ('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000005', '2024-01-16 10:00:00+00')  -- Diana mutes Evan
ON CONFLICT (muter_id, muted_id) DO NOTHING;

-- Insert some blocks (optional, for testing)
INSERT INTO blocks (blocker_id, blocked_id, created_at) VALUES
    ('00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000007', '2024-01-20 10:00:00+00')  -- Fiona blocks George
ON CONFLICT (blocker_id, blocked_id) DO NOTHING;

-- Summary statistics
SELECT 'Test data created successfully!' AS status;
SELECT COUNT(*) AS total_users FROM users;
SELECT COUNT(*) AS total_follows FROM follows;
SELECT COUNT(*) AS total_mutes FROM mutes;
SELECT COUNT(*) AS total_blocks FROM blocks;
