# ICERED Apple App Site Association Worker
#
# This Worker serves the AASA file for Passkey/WebAuthn authentication
# and Universal Links on iOS.
#
# Deployment:
#   npx wrangler deploy
#
# Preview:
#   npx wrangler dev

name = "icered-aasa"
main = "src/index.js"
compatibility_date = "2024-01-01"
account_id = "eebfbe9f7f871ef35ac1bcb563f6980f"

# Production route (requires account-level worker permissions in Tim Lam account)
# Currently served via GKE ingress + Cloudflare DNS CNAME
routes = [
  { pattern = "aasa.icered.com/*", zone_name = "icered.com" }
]

# Observability
[observability]
enabled = true
