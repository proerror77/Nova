---
# Identity Service Secrets
# IMPORTANT: This is a template. Actual secrets should be managed via:
# - AWS Secrets Manager (production)
# - Sealed Secrets (GitOps)
# - kubectl create secret (manual)
apiVersion: v1
kind: Secret
metadata:
  name: identity-service-secrets
  namespace: nova-backend
  labels:
    app: identity-service
type: Opaque
stringData:
  # Internal API key for Zitadel Actions to call identity-service HTTP endpoints
  # Generate with: openssl rand -hex 32
  INTERNAL_API_KEY: "REPLACE_ME_WITH_SECURE_API_KEY"

  # SMTP Credentials (AWS SES)
  # Stored in AWS Secrets Manager: nova/identity-service/smtp
  # Fetch with: aws secretsmanager get-secret-value --secret-id nova/identity-service/smtp --region ap-northeast-1
  SMTP_USERNAME: "REPLACE_WITH_SES_SMTP_USERNAME"
  SMTP_PASSWORD: "REPLACE_WITH_SES_SMTP_PASSWORD"

  # AWS Credentials (for SNS SMS)
  # Stored in AWS Secrets Manager: nova/identity-service/aws
  # Fetch with: aws secretsmanager get-secret-value --secret-id nova/identity-service/aws --region ap-northeast-1
  #
  # Required IAM permissions:
  # - sns:Publish
  # - sns:GetSMSAttributes
  # - sns:SetSMSAttributes
  AWS_ACCESS_KEY_ID: "REPLACE_WITH_AWS_ACCESS_KEY_ID"
  AWS_SECRET_ACCESS_KEY: "REPLACE_WITH_AWS_SECRET_ACCESS_KEY"
